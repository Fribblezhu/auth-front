<nz-modal [nzWidth]="900" [(nzVisible)]="isVisible" [nzTitle]="title" [nzFooter]="memberModalFooter" (nzOnCancel)="closeModal()">
    <nz-spin *ngIf="isLoading" nzTip="Loading..."></nz-spin>
    <form *ngIf="!isLoading" nz-form [formGroup] = 'memberForm' >
        <div nz-row [nzGutter]="24">
            <div nz-col [nzSpan]="12">
                <div nz-row [nzGutter]="12">
                    <nz-form-item>
                        <nz-form-label nzRequired ngFor="username">姓名</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.username" formControlName="username" id="username" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzRequired ngFor="loginName">登录名</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.loginName" formControlName="loginName" id="loginName" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label ngFor="birthDay">出生日期</nz-form-label>
                        <nz-form-control>
                            <nz-date-picker style="width: 100%;"  id="birthDay" formControlName="birthDay"
                                            nzPlaceHolder='' (ngModelChange)="birthDayOnChange($event)"
                                            [(ngModel)]="currentMember.birthDay"></nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label  ngFor="age">年龄</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.age" formControlName="age" id="age" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label ngFor="gender">性别</nz-form-label>
                        <nz-form-control>
                            <nz-select [(ngModel)]="currentMember.gender" formControlName="gender" nzAllowClear nzPlaceHolder="Choose"></nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div nz-col [nzSpan]="12">
                <div nz-row>
                    <nz-form-item>
                        <nz-form-label  ngFor="abbreviation">简称</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.abbreviation" formControlName="abbreviation" id="abbreviation" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzRequired ngFor="email">邮箱</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.email" formControlName="email" id="email" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label  ngFor="telephone">电话</nz-form-label>
                        <nz-form-control>
                            <input nz-input [(ngModel)]="currentMember.telephone" formControlName="telephone" id="telephone" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label  ngFor="mobile">手机</nz-form-label>
                        <nz-form-control  nzErrorTip="手机号不合法.">
                            <input nz-input [(ngModel)]="currentMember.mobile" formControlName="mobile" id="mobile" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </div>
    </form>
    <ng-template #memberModalFooter>
        <div nz-row class = "button-group">
            <button nz-button nzType="primary" nzGhost (click)="closeModal()">取消</button>
            <button nz-button nzType="primary" nzGhost [nzLoading]="isSubmitLoading" (click)="submit()">提交</button>
        </div>
    </ng-template>
</nz-modal>
